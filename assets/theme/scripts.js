/**
 * @file Theme JS for TimurTripp.com
*/

const themeSettings={mode:"auto"};function getThemeSettings(){for(const e in themeSettings){let t=null;const o=themeSettings[e];try{t=localStorage.getItem("theme-"+e)}catch(e){console.error("Unable to get theme setting from localStorage. Error: "+e)}null===t&&(t=o),themeSettings[e]=t}}function setThemeSetting(e,t){themeSettings[e]=t;try{localStorage.setItem("theme-"+e,t)}catch(e){console.error("Unable to set theme setting in localStorage. Error: "+e)}}function changeThemeMode(e){const t=document.body||document.getElementsByTagName("body")[0],o="light"!=e&&"dark"!=e,s=document.getElementById("syntaxCSS"),a=function(e){s.href=s.href.replace("light.css",e+".css").replace("dark.css",e+".css").replace("default.css",e+".css")};o?(t.classList.add("theme-mode-auto"),t.classList.remove("theme-mode-dark"),t.classList.remove("theme-mode-light"),a("default")):(t.classList.remove("theme-mode-auto"),"dark"==e?(t.classList.add("theme-mode-dark"),t.classList.remove("theme-mode-light"),a("dark")):(t.classList.add("theme-mode-light"),t.classList.remove("theme-mode-dark"),a("light"))),setThemeSetting("mode",e)}function toggleThemeMode(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches,t=themeSettings.mode;changeThemeMode("auto"===t?e?"light":"dark":e?"light"===t?"dark":"dark"===t?"auto":"light":"dark"===t?"light":"light"===t?"auto":"dark")}function styleJumpableHeadings(){const e=document.getElementsByClassName("jumpable-heading");for(let t=0;t<e.length;t++){const o=e[t];o.querySelector(".jumpable-heading-link").style.width=Math.round(o.querySelector(".jumpable-heading-text").getBoundingClientRect().left)+3+"px"}}function enableBootstrapTooltips(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}))}document.addEventListener("DOMContentLoaded",(function(){changeThemeMode(themeSettings.mode),styleJumpableHeadings(),enableBootstrapTooltips(),window.addEventListener("resize",styleJumpableHeadings)})),getThemeSettings();